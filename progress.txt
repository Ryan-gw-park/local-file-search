# Local Finder X v2.0 Progress Log

> This file tracks the progress of development sessions.
> AI agents should read this file at the start of each session to understand the current state.

---

## [2025-12-13] Initializer Session
- [COMPLETED] Folder restructure: v1 code archived to `_archive_v1/`, docs moved to `docs/`
- [COMPLETED] Created `init.sh` (environment setup script)
- [COMPLETED] Created `progress.txt` (this file)
- [COMPLETED] Created `feature_list.json` (Master Plan Phase 6 기반)
- [COMPLETED] Created `pyproject.toml` (dependency management)
- [COMPLETED] Created `src/` folder structure (Phase 1 Architecture)
- [PENDING] Git initial commit

---

## Next Session TODO
- [ ] PR#1: App Data Paths & Settings (`src/config/paths.py`, `src/config/settings.py`)
- [ ] PR#2: Data Schemas (FileRecord, ChunkRecord, Evidence, SearchResponse)

---

## [2025-12-13] Coding Session 1
- [COMPLETED] F001: App Data Paths (`src/config/paths.py`)
  - OS-specific paths for Windows/macOS/Linux
  - get_app_data_dir(), get_lancedb_path(), etc.
- [COMPLETED] F002: Settings Manager (`src/config/settings.py`)
  - Dataclass-based settings with JSON persistence
  - IndexingSettings, SearchSettings, UISettings, LicenseSettings
- [COMPLETED] F002: Data Schemas (`src/core/schemas.py`)
  - FileRecord, ChunkRecord, Evidence, SearchResponse
  - All tests passed ✅

## Next Session TODO
- [ ] F003: Manifest Store (incremental indexing)
- [ ] F004: LanceDB Setup & Schema

---

## [2025-12-13] Coding Session 2
- [COMPLETED] F003: Manifest Store (`src/storage/manifest.py`)
  - FileFingerprint, Manifest dataclasses
  - ManifestStore singleton with load/save
  - compare_fingerprint(), get_files_to_reindex(), get_deleted_files()
  - All tests passed ✅
- [COMPLETED] F004: LanceDB Store (`src/storage/lancedb_store.py`)
  - Schema definition (chunks, files tables)
  - LanceDBStore class with vector search
  - add_chunks, search_chunks, delete_chunks_by_file
  - Import OK ✅ (LanceDB dependency to be installed separately)

## Next Session TODO
- [ ] F005: VectorStore Adapter (wrapper for LanceDB)
- [ ] F006: BM25Store (persistent lexical index)

---

## [2025-12-13] Coding Session 3
- [COMPLETED] F005: VectorStore Adapter (`src/storage/vector_store.py`)
  - High-level wrapper for LanceDB
  - add_chunk(s), search, delete_by_file
  - Handles ChunkRecord serialization
  - Import OK ✅
- [COMPLETED] F006: BM25Store (`src/storage/bm25_store.py`)
  - Persistent BM25 index with pickle
  - Supports chunk-level and file-level tokens
  - add_document(s), search, remove_by_file
  - Import OK ✅ (rank_bm25 dependency optional)

## Next Session TODO
- [ ] F007: File Enumeration + Filtering
- [ ] F008: File Type Classifier

---

## [2025-12-13] Coding Session 4
- [COMPLETED] F007: File Enumerator (`src/core/file_enumerator.py`)
  - Directory traversal with skip rules
  - EnumerationOptions for filtering
  - All tests passed ✅
- [COMPLETED] F008: File Classifier (`src/core/file_classifier.py`)
  - Content-Indexed vs Metadata-Only classification
  - FileCategory and FileType enums
  - All tests passed ✅
- [COMPLETED] F009: Extractors (`src/core/extractors/`)
  - WordExtractor, ExcelExtractor, PowerPointExtractor
  - PDFExtractor, TextExtractor, MarkdownExtractor
  - Registry pattern for extractor lookup
  - All imports OK ✅

## Next Session TODO
- [ ] F010: Structural Chunker
- [ ] F011: Tokenizer (Kiwi + English)
- [ ] F012: Embedding Model Wrapper

---

## [2025-12-13] Coding Session 5
- [COMPLETED] F010: Structural Chunker (`src/core/chunker.py`)
  - File-type-specific chunking (PDF, PPT, Excel, Word/MD)
  - Location metadata (page, slide, sheet, header_path)
  - All tests passed ✅
- [COMPLETED] F011: Tokenizer (`src/core/tokenizer.py`)
  - Korean (Kiwi) + English tokenization
  - Smart language detection
  - Import OK ✅ (kiwipiepy optional)
- [COMPLETED] F012: Embedding Model (`src/core/embedding.py`)
  - Singleton wrapper for SentenceTransformer
  - Device auto-detection (CUDA/MPS/CPU)
  - Import OK ✅ (sentence-transformers optional)

## Next Session TODO
- [ ] F013: Indexing Orchestrator (Controller)
- [ ] F014: Dense Retriever

---

## [2025-12-13] Coding Session 6
- [COMPLETED] F013: Indexing Orchestrator (`src/core/indexer.py`)
  - Full pipeline: enumerate → extract → chunk → embed → store
  - Incremental indexing with manifest
  - All tests passed ✅
- [COMPLETED] F014-F019: Search Engine (`src/core/search_engine.py`)
  - Dense Retriever (vector similarity)
  - Lexical Retriever (BM25)
  - RRF Fusion (k=60)
  - Evidence Builder
  - SearchEngine (end-to-end)
  - All tests passed ✅

## Next Session TODO
- [ ] Sprint 4: UI (F020-F027)

---

## [2025-12-13] Coding Session 7
- [COMPLETED] F020: Main Window (`src/ui/main_window.py`)
  - Global Sidebar with navigation
  - Page switching (Search, Indexing, About, MyPage)
  - Import OK ✅
- [COMPLETED] F021-F024: Search Page 3-Panel (`src/ui/search_page.py`)
  - Left Panel: Results list with badges
  - Center Panel: Evidence cards
  - Right Panel: Query input with mode selector
  - Import OK ✅
- [COMPLETED] F025: Indexing Page (`src/ui/indexing_page.py`)
  - Folder selection tree
  - File type filters
  - Progress bar
  - Import OK ✅
- [COMPLETED] F026: About Page (`src/ui/about_page.py`)
  - App info and features
  - Import OK ✅
- [COMPLETED] F027: My Page (`src/ui/mypage.py`)
  - License key input
  - Scope summary (Free/Pro)
  - Import OK ✅

## Next Session TODO
- [ ] Sprint 5: Pro Features (F028-F032)
- [ ] Sprint 6: Packaging (F033-F034)
